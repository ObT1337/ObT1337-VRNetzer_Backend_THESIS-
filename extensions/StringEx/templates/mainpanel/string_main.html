<!-- PUT YOUR UI ELEMENTS IN HERE AND DEFINE MAPPINGS IN main_UI.js -->

<!-- HTML STARTS HERE -->

<!DOCTYPE html>
<html>


<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/jquery-ui.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/SwagStyle.css') }}">
    <link rel="stylesheet" href="{{ url_for('StringEx.static', filename='css/StringStyle.css') }}">
    </link>

    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>

    <script type="text/javascript" src="{{ url_for('static', filename='js/UI_Module_Config.js') }}"></script>
    <script src="{{ url_for('static', filename='js/mc_UI_Elements.js') }}"></script>
    <script src="{{ url_for('StringEx.static', filename='js/stringUI_Elements.js') }}"></script>
    <script src="{{ url_for('static', filename='js/connect_WebUI.js') }}"></script>
    <script src="{{ url_for('static', filename='js/connect_socketIO_main.js') }}"></script>

</head>




<!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++

                TEMPLATES
                                        
    +++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
{% include '/mainpanel/mc_stuff.html' %}

<!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++

                                       body
                                        
    +++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<body>
    <script>
        var sessiondata = JSON.parse({{ sessionData| tojson}});
        var pdata = JSON.parse('{{ pfile | tojson }} ')
        var username = '{{session['username']}}';
        console.log(pdata);
    </script>


    <div id="tabs" class="disable-select">
        <script>   // MULTICAST TAB CHANGES 
            $(function() {
                $("#tabs").tabs();
            });

            var lastactive = 0;
            $('#tabs').on('click', function(event, ui) {
                var active = $('#tabs').tabs('option', 'active');
                if (active != lastactive) {
                    console.log("changed tab to " + active);
                    lastactive = active;
                    socket.emit('ex', { msg: active, id: "tabs", fn: "cht" });
                }

            });
        </script>
        <ul id="mainTabs">
            <li>
                <a href="#tabs-1"><img draggable="false" onmousedown="return false" height='40' width='40'
                        src="{{ url_for('static', filename='img/active_open.png') }}" /></a>
            </li>
            <li>
                <a href="#tabs-2"><img draggable="false" onmousedown="return false" height='40' width='40'
                        src="{{ url_for('static', filename='img/active_sel.png') }}" /></a>
            </li>
            <script>
                if (pdata.network == "string") {
                    var code = `
                <li>
                <a href="#tabs-3"><img draggable="false" onmousedown="return false" height='40' width='40'
                        src="{{ url_for('StringEx.static', filename='img/string_logo_2015_340_340.png') }}" /></a>
                </li>`;
                    document.write(code)
                }
            </script>
            <li><a href="#tabs-4"><img draggable="false" onmousedown="return false" height='40' width='40'
                        src="{{ url_for('static', filename='img/active_search.png') }}" /></a></li>
            <li>
                <a href="#tabs-5"><img draggable="false" onmousedown="return false" height='40' width='40'
                        src="{{ url_for('static', filename='img/active_pin.png') }}" /></a>
            </li>
            <li>
                <a href="#tabs-6"><img draggable="false" onmousedown="return false" height='40' width='40'
                                src="{{ url_for('static', filename='img/active_gears.png') }}" /></a>
            </li>
            <li>
                <a href="#tabs-7"><img draggable="false" onmousedown="return false" height='40' width='40'
                src="{{ url_for('static', filename='img/active_gears.png') }}" /></a>
            </li>
            <li>
                <a href="#tabs-8"><img draggable="false" onmousedown="return false" height='40' width='40'
                src="{{ url_for('static', filename='img/active_gears.png') }}" /></a>
            </li>
        </ul>

        <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++

            tab 1 - uploading projectfiles
                                            
        +++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        
        <div id="tabs-1" class="container">
            <div class="twelve columns" style="background-color:rgba(0,0,0,0.65);">
                <h2 class="lineglowslow">Project</h2>
            </div>
        
            <div class="twelve columns">
                    <div class="cornerBox">
                        <select id='projects'style="min-height:20px;overflow:scroll;"></select>
                        <script>
                            initDropdown('projects', sessiondata["proj"], sessiondata["actPro"]);
                        </script>
                    </div>
            </div>
        <!--
                    <div class="twelve columns">
                        <h3 class="seven columns">Nr. of Layouts : : </h3>
                        <div class="four columns">
                            <h3>
                                <script>
                                    counter_layouts = pdata["layouts"].length;
                                    document.write(counter_layouts);
                                    console.log(counter_layouts);
                                </script>
                            </h3>
                        </div>
                    </div>
        
                    <br></br>
                    -->
        <!-- ADD NETWORK LAYOUT SELECTED TO SHOW UP IN UI ??
                                        <div class="twelve columns">
                                            <div class="frameBox">
                                                <div class="five columns">
                                                    <h3>NETWORK MAP</h3> 
                                                </div>
                                                <div class="seven columns">
                                                    <h3>{{pdata}}</h3> 
                                                </div>
                                            </div>
                                        </div> 
                                        -->
        
        <div class="twelve columns" hidden="true">
            <div class="slideTwo">
                <input type="checkbox" value="true" id="chbXYZ" name="check" checked></checkbox>
                <script>
                    initCheckbox("chbXYZ");
                </script>
            </div>
        </div>
        
        
        <div class="twelve columns" hidden="true">
            <div class="slideTwo">
                <input type="checkbox" value="true" id="chbNrgb" name="check" checked></checkbox>
                <script>
                    initCheckbox("chbNrgb");
                </script>
            </div>
        </div>
        
        <script>
            if (pdata.network == "string") {
                deactiveLinkLayouts()
            } else {
                activateLinkLayouts()
            }
        </script>
        
        
        
        <!--<div class="twelve columns">-->
        <div class="frameBox" style="display:inline-block; margin-top:6px; margin-bottom:6px;">
        
            <h5 style="text-align:end"> Visual Settings </h5>
        
            <div class="twelve columns">
        
                <h6 class="border">NODE SIZE</h6>
                <div id="slider-node_size"></div>
                <h6 class="border">LINK SIZE</h6>
                <div id="slider-link_size"></div>
                <h6 class="border">LINK OPACITY</h6>
                <div id="slider-link_transparency"></div>
                <h6 class="border">LABEL SIZE</h6>
                <div id="slider-label_scale"></div>
                <script>
                    initSlider('slider_scale');
                    initSlider('slider-node_size');
                    initSlider('slider-link_size');
                    initSlider('slider-link_transparency');
                    initSlider('slider-label_scale');
                </script>
            </div>
        </div>
        <div class="frameBox" style="display:inline-block; margin-top:6px; margin-bottom:6px;">
        
            <h5 style="text-align:end; margin-bottom:5px;"> Layout Morphing </h5>
        
            <div class="four columns">
                <input type="button" id='backwardstep' class="swagBackwardButton"></button>
                <script>
                    initButton('backwardstep');
                </script>
            </div>
        
            <div class="four columns">
                <input type="button" id='forwardstep' class="swagForwardButton"></button>
                <script>
                    initButton('forwardstep');
                </script>
            </div>
        
            <div class="four columns">
                <input type="button" value="RESET" id='reset' class="swagTextButton"></button>
                <script>
                    initButton('reset');
                </script>
            </div>
        
        </div>
        
        
        </div>

        <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++

                        tab 2 - general Network information 
                                                
        +++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
        
        <div id="tabs-2" class="container">
            <div class="twelve columns">
                <h2 class="lineglowslow">SELECT</h2>
            </div>
        
            <!--<div class="twelve columns">
                                            <h4 class="six columns">Nr. of Layouts: </h4>
                                            <h5 class="fivecolumns" > 
                                                <script>
                                                    count_layouts = pdata["layouts"].length;
                                                    document.write(count_layouts );
                                                </script>
                                            </h5>
                                        </div>
                                        <div class="twelve columns">
                                            <h4 class="six columns">Nr. of Nodes: </h4>
                                            <h5 class="fivecolumns"> 
                                            <div>{{names}}</div> 
                                            </h5>
        
                                        </div> -->
        
        
            <!-- DROPDOWNS FOR LAYOUT SWITCH WITHOUT MORPHING  -->
            <div class="twelve columns">
                <h4 class="four columns">NODE POS</h4>
                <div class="eight columns">
                    <div class="cornerBox">
                        <select id='layouts'></select>
                        <script>
                            initDropdown('layouts', pdata["layouts"], pdata["layouts"][0]);
                        </script>
                    </div>
                </div>
            </div>
        
            <div class="twelve columns">
                <h4 class="four columns">NODE COL</h4>
                <div class="eight columns">
                    <div class="cornerBox">
                        <select id='nodecolors'></select>
                        <script>
                            initDropdown('nodecolors', pdata["layoutsRGB"], pdata["layoutsRGB"][0]);
                        </script>
                    </div>
                </div>
            </div>
            <div class="twelve columns">
                <h4 class="four columns">LINKS</h4>
                <div class="eight columns">
                    <div class="cornerBox">
                        <select id='links'></select>
                        <script>
                            initDropdown('links', pdata["links"], pdata["links"][0]);
                        </script>
                    </div>
                </div>
            </div>
        
            <div class="twelve columns">
                <h4 class="four columns">LINK COL</h4>
                <div class="eight columns">
                    <div class="cornerBox">
                        <select id='linkcolors'></select>
                        <script>
                            initDropdown('linkcolors', pdata["linksRGB"], pdata["linksRGB"][0]);
                        </script>
                    </div>
                </div>
            </div>
        
        </div>

        <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++

                        tab 3 - sliders for visual network mods
                                                    
        +++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <div id="tabs-3" class="container">
            <div class="twelve columns">
                <h2 class="lineglowslow" style="margin-bottom:30px;margin-top:30px">String<br><br>&ensp;App</h2>
            </div>
            <br> <br><br><br><br>
            <div id="evidence-section" class="twelve columns">
                <div class="frameBox" style="display:inline-block; margin-top:8px; margin-bottom:8px;">
                    <h5 style="text-align:end"> Evidence filter</h6>
                        <div class="six columns">
                            <h4> <br>Reset</h4>
                            <div class="frameBox"
                                style="display:inline-block; margin-bottom:8px;padding-top:25px;padding-bottom:28px;">
        
                                <button class="stringEvidenceButton" style="background-color:#c8c8c8;
                                            color:black;" id="evidence-all" type="VRNetzer">
                                    All</button>
                                <script>
                                    selectEvidenceVRNetzer("evidence-all", "any");
                                </script>
                            </div>
                        </div>
                        <div class="six columns">
                            <h4> Known<br>interactions</h4>
                            <div class="frameBox" style="display:inline-block; margin-bottom:8px;">
                                <button class="stringEvidenceButton" style="background-color:#ff00ff;"
                                    id="evidence-experiments" type="VRNetzer">
                                    Experiments</button>
                                <script>
                                    selectEvidenceVRNetzer("evidence-experiments", "stringdb_experiments");
                                </script>
        
                                <button class="stringEvidenceButton" style="background-color:#00ffff;color:black;"
                                    id="evidence-database" type="VRNetzer"> Database</button>
                                <script>
                                    selectEvidenceVRNetzer("evidence-database", "stringdb_databases");
                                </script>
        
                            </div>
                        </div>
        
                        <div class="twelve columns"><br></div>
        
                        <div class="six columns">
                            <h4> Predicted<br>interactions</h4>
        
                            <div class="frameBox" style="display:inline-block;margin-top:8px;  margin-bottom:8px;">
                                <button class="stringEvidenceButton" style="background-color:#0ab10a;
                                            color:white;" id="evidence-neighborhood" type="VRNetzer">
                                    Neighborhood</button>
                                <script>
                                    selectEvidenceVRNetzer("evidence-neighborhood", "stringdb_neighborhood");
                                </script>
        
                                <button class="stringEvidenceButton" style="background-color:#ff0000;"
                                    id="evidence-fusion" type="VRNetzer">
                                    Fusion</button>
                                <script>
                                    selectEvidenceVRNetzer("evidence-fusion", "stringdb_fusion");
                                </script>
        
                                <button class="stringEvidenceButton" style="background-color:#0000ff;"
                                    id="evidence-cooccurrence" type="VRNetzer">
                                    Cooccurrence</button>
                                <script>
                                    selectEvidenceVRNetzer("evidence-cooccurrence", "stringdb_cooccurrence");
                                </script>
                            </div>
                        </div>
                        <div class="six columns">
                            <h4> Other<br>Evidences</h4>
        
                            <div class="frameBox" style="display:inline-block; margin-top:8px; margin-bottom:8px;">
                                <button class="stringEvidenceButton" style="background-color:#c6ea46;color:black;"
                                    id="evidence-textmining" type="VRNetzer">
                                    Textmining</button>
                                <script>
                                    selectEvidenceVRNetzer("evidence-textmining", "stringdb_textmining");
                                </script>
        
                                <button class="stringEvidenceButton" style="background-color:#323232;"
                                    id="evidence-coexpression" type="VRNetzer">
                                    Coexpression</button>
                                <script>
                                    selectEvidenceVRNetzer("evidence-coexpression", "stringdb_coexpression");
                                </script>
        
                                <button class="stringEvidenceButton" style="background-color:#9d9df8;
                                                color:black;" id="evidence-homology" type="VRNetzer">
                                    Homology</button>
                                <script>
                                    selectEvidenceVRNetzer("evidence-homology", "stringdb_similarity");
                                </script>
                            </div>
                        </div>
                </div>
                <div class="twelve columns">
                    <h3> Information</h3>
                    <p>This panel is used to switch between the different association evidences that come with a STRING
                        network. If your current network is not a STRING network, this panel will not effect anything.
                    </p>
                </div>
        
                <br></br>
        
            </div>
        </div>
        <script>
            if (!(pdata["network"]=="string")){
                document.getElementById("tabs-3").remove();
            }
        </script>

        <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++

                                    tab 4 - search 
                                                    
        +++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

        <div id="tabs-4">
            <div class="twelve columns">
                <h2 class="lineglowslow" style="font-size: 68px; margin-bottom:30px;margin-top:30px;">QUERY</h2>
            </div>
                    <mc-textbox id = 'search' ></mc-textbox>
                    <br><br>
                    <mc-scrollbox id = 'sres'></mc-scrollbox>
        </div>

        <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++

                                tab 5 - Arch Worlds 

        +++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

        <div id="tabs-5">

            <div class="twelve columns">
                <h2 class="lineglowslow">VR ROOMS</h2>
            </div>
        
            <div class="twelve columns">
                <div class="cornerBox">
                    <select id='archworlds'></select>
                    <script>
                        initDropdown('archworlds', ["empty", "lecturehall", "studyspace"], "studyspace");
                    </script>
                </div>
            </div>
        
        </div>

        <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++

                    tab 6 - SETTINGS
                                    
        +++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
        
        <!-- <div id="tabs-6" class="container">
            <div class="twelve columns">
                <h2 class="lineglowslow" style="font-size: 68px; margin-bottom:30px;margin-top:30px">USER LOG</h2>
            </div>
                    <div  id= "url" class="texthidden"></div>
                    <h4>logged in as {{session['username']}}</h4>
                    <script>
                        document.getElementById('url').innerHTML = window.location.href;
                    </script>
        
        </div> -->
    </div>
    <script>
        deactivateTabs("mainTabs");
    </script>


</body>